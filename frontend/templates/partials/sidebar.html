{% load static %}
<aside class="sticky top-16 h-[calc(100vh-64px)] w-64 shrink-0 border-r border-gray-200 dark:border-gray-800 bg-white dark:bg-background-dark p-4 hidden lg:flex flex-col justify-between">
  <div class="flex flex-col gap-4">
    <div class="flex items-center gap-3">
      <div>
        <h2 class="text-base font-medium text-gray-900 dark:text-white">{{ request.user.username }}</h2>
        <p class="text-sm text-gray-500 dark:text-gray-400">{{ request.user.email }}</p>
      </div>
    </div>

    <nav class="flex flex-col gap-2 mt-4">
      {% with url_name=request.resolver_match.url_name %}
      <a class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 {% if url_name == 'index' or url_name == 'post_detail' %}bg-primary/10 text-primary dark:bg-primary/20{% endif %}"
         href="{% url 'index' %}">
        <span class="material-symbols-outlined">home</span>
        <p class="text-sm font-medium">Home</p>
      </a>

      <a class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 {% if url_name == 'dashboard' or url_name == 'create_post' or url_name == 'update_post' or url_name == 'profile' or url_name == 'profile_edit' or url_name == 'profile_delete' %}bg-primary/10 text-primary dark:bg-primary/20{% endif %}"
         href="{% url 'dashboard' %}">
        <span class="material-symbols-outlined">person</span>
        <p class="text-sm font-medium">Perfil</p>
      </a>
      {% endwith %}
    </nav>
  </div>

  <div>
    <a class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800" href="{% url 'logout' %}">
      <span class="material-symbols-outlined">logout</span>
      <p class="text-sm font-medium">Sair</p>
    </a>
  </div>
</aside>